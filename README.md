# Short info
Course project for the Telerik Academy Javascript Applications course, team Dragonfruit

# Short description
Server-side and client-side functionality for an e-shop application, where users are able to register, login, logout, post their own products for sale, buy other people's products, comment on products, send messages to other users.
When a product is sold, the seller gets his "cash" updated.

# Classes and properties
  * User
    - username
    - username to lower case
    - passHash - generated by the client (SHA1)
    - userId - generated by the server
    - authKey - generated by the server
    - cash - how much money the user has made
    - created - time of user registration
  
  * Message
    - title
    - content
    - msgId - generated by the server
    - authorId - the id of the msg author
    - recipientId - the id of the msg recipient
    - created - time of message creation
    - seen - shows if the message has been seen by the recipient

  * Product
    - name
    - description
    - category
    - price
    - productId - generated by the server
    - sellerId - the id of the user that posted the product
    - created - time of product creation

# Web storages - localStorage
  * User data
    - LOGIN_USERNAME
    - LOGIN_AUTHKEY

  * Shopping cart data
    - CART_PRODUCTS    

# Server REST API
  * Users - 3/3
    - GET       /api/users      - get list of users
      * request data: none, response data - {users: [...]}

    - POST      /api/users      - register a new user
      * request data - {username:... , passHash:...}, response data - {username:... , authKey:...}

    - PUT       /api/users      - user login
      * request data - {username:... , passHash:...}, response data - {username:... , authKey:...}

  * Profiles - 0/1
    - GET       /api/profiles   - get an user's profile (no query for own profile, query userId for other users' profiles)
      * request data: none, response data - {username:... , created:... , products: [...]} 

  * Messages - 2/4
    - GET       /api/messages/sent       - get all RECEIVED messages (get a single message if query msgId is provided)
      * request data - none, response data - {messages: [...]}

    - GET       /api/messages/received   - get all RECEIVED messages (get a single message if query msgId is provided)
    * request data - none, response data - {messages: [...]}

    - POST      /api/messages            - send a new message
      * request data - {authKey:... , title:... , content:... , recipientId:...}, response data - {msgId:...}

    - DELETE    /api/messages             - delete a message
      * request data - {authKey:... , msgId:...}, response data - {authorId:...}

  * Products - 2/4
    - GET       /api/products   - get products info (filtered with queries pCategory and pTitle, get single product with query productId)
      * request data - none, response data - {products: [...]}

    - POST      /api/products   - post a new product
      * request data - {authKey:... , title:... , description:... , category:... , price:...}, response data - {productId:...}

    - PUT       /api/products   - update a product details
      * request data - {authKey:... , options: {...}}, response data - {productId:...}

    - DELETE    /api/products   - delete a product
      * request data - {authKey:... , productId:...}, response data - {sellerId:...}

  * Order - 0/1
    - POST      /api/orders     - post a new order
      * request data - {authKey:... , products: [productId 1, productId 2...]}, response data - {cost:...}

# Libraries/frameworks
  * Client
    - jQuery - AJAX / DOM operations
    - SammyJS - routing
    - HandlebarsJS - templates
    - CryptoJS - password encryption
    - Bootstrap - styles

  * Server
    - Express
    - Lowdb
    - CORS - allow cross-origin resource sharing
    - Body-parser - JSON parse for the request body